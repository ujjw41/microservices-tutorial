<!DOCTYPE html>
<html lang = "en">
<head>
	<meta charset = "UTF-8">
	<title>Subscribers</title>
	<link rel = "stylesheet" href = "/css/style.css">
	<script src = "https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<script src = "https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
<h3>View Subscribers</h3>
<label for = "id">Enter Id</label>
<input type = "text" id = "id" placeholder = "Id" />
<button id = "send">Read</button>
<br>

<button id = "readall">Read ALL</button>
</body>

<script>

	$("#send").click(function () {
		getData($("#id").val());
	});

	function getData(input) {
		$.ajax({
			url: "/api/read/?id=" + input,
			cache: false,
			type: 'get',
			dataType: 'json',
			contentType: "application/json",
			success: function (data) {
				console.log(data);
				alert(data.message);
			}
		});
	}

	$("#readall").click(function () {
		getAllData();
	});


	function getAllData() {
		$.ajax({
			url: "/api/readall",
			cache: false,
			type: 'get',
			dataType: 'json',
			contentType: "application/json",
			success: function (data) {
				console.log(data);
				alert(data.message);
			}
		});
	}
</script>

</html>
